!function(a,b,c,d){var e="ontouchstart"in b,f=e?"touchstart":"mousedown",g=e?"touchmove":"mousemove",h=e?"touchcancel":"mouseup",i=function(a){var b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.ceil(a%3600%60);return(0==b?"":b>0&&b.toString().length<2?"0"+b+":":b+":")+(c.toString().length<2?"0"+c:c)+":"+(d.toString().length<2?"0"+d:d)},j=function(a){var b=c.createElement("audio");return!(!b.canPlayType||!b.canPlayType("audio/"+a.split(".").pop().toLowerCase()+";").replace(/no/,""))};a.fn.audioPlayer=function(b){var b=a.extend({classPrefix:"audioplayer",strPlay:"",strPause:"",strVolume:""},b),c={},d={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini"};for(var k in d)c[k]=b.classPrefix+"-"+d[k];return this.each(function(){if("audio"!=a(this).prop("tagName").toLowerCase())return!1;var d=a(this),k=d.attr("src"),l=d.get(0).getAttribute("autoplay"),l=""===l||"autoplay"===l,m=d.get(0).getAttribute("loop"),m=""===m||"loop"===m,n=!1;"undefined"==typeof k?d.find("source").each(function(){if(k=a(this).attr("src"),"undefined"!=typeof k&&j(k))return n=!0,!1}):j(k)&&(n=!0);var o=a('<div class="'+b.classPrefix+'">'+(n?a("<div>").append(d.eq(0).clone()).html():'<embed src="'+k+'" width="0" height="0" volume="100" autostart="'+l.toString()+'" loop="'+m.toString()+'" />')+'<div class="'+c.playPause+'" title="'+b.strPlay+'"><a href="javascript:void(0)">'+b.strPlay+"</a></div></div>"),p=n?o.find("audio"):o.find("embed"),p=p.get(0);if(n){o.find("audio").css({width:0,height:0,display:"none"}),o.append('<div class="'+c.time+" "+c.timeCurrent+'"></div><div class="'+c.bar+'"><div class="'+c.barLoaded+'"></div><div class="'+c.barPlayed+'"></div></div><div class="'+c.time+" "+c.timeDuration+'"></div><div class="'+c.volume+'"><div class="'+c.volumeButton+'" title="'+b.strVolume+'"><a href="javascript:void(0)">'+b.strVolume+'</a></div><div class="'+c.volumeAdjust+'"><div><div></div></div></div></div>');var q=o.find("."+c.bar),r=o.find("."+c.barPlayed),s=o.find("."+c.barLoaded),t=o.find("."+c.timeCurrent),u=o.find("."+c.timeDuration),v=o.find("."+c.volumeButton),w=o.find("."+c.volumeAdjust+" > div"),x=0,y=function(a){theRealEvent=e?a.originalEvent.touches[0]:a,p.currentTime=Math.round(p.duration*(theRealEvent.pageX-q.offset().left)/q.width())},z=function(a){theRealEvent=e?a.originalEvent.touches[0]:a,p.volume=Math.abs((theRealEvent.pageX-w.offset().left)/w.width())},A=setInterval(function(){p.buffered.length>0&&(s.width(p.buffered.end(0)/p.duration*100+"%"),p.buffered.end(0)>=p.duration&&clearInterval(A))},100),B=p.volume,C=p.volume=.111;Math.round(1e3*p.volume)/1e3==C?p.volume=B:o.addClass(c.noVolume),u.html("&hellip;"),t.text(i(0)),p.addEventListener("loadeddata",function(){u.text(i(p.duration)),w.find("div").width(100*p.volume+"%"),x=p.volume}),p.addEventListener("timeupdate",function(){t.text(i(p.currentTime)),r.width(p.currentTime/p.duration*100+"%")}),p.addEventListener("volumechange",function(){w.find("div").width(100*p.volume+"%"),p.volume>0&&o.hasClass(c.mute)&&o.removeClass(c.mute),p.volume<=0&&!o.hasClass(c.mute)&&o.addClass(c.mute)}),p.addEventListener("ended",function(){o.removeClass(c.playing)}),q.on(f,function(a){y(a),q.on(g,function(a){y(a)})}).on(h,function(){q.unbind(g)}),v.on("click",function(){return o.hasClass(c.mute)?(o.removeClass(c.mute),p.volume=x):(o.addClass(c.mute),x=p.volume,p.volume=0),!1}),w.on(f,function(a){z(a),w.on(g,function(a){z(a)})}).on(h,function(){w.unbind(g)})}else o.addClass(c.mini);l&&o.addClass(c.playing),o.find("."+c.playPause).on("click",function(){return o.hasClass(c.playing)?(a(this).attr("title",b.strPlay).find("a").html(b.strPlay),o.removeClass(c.playing),n?p.pause():p.Stop(),p.Stop()):(a(this).attr("title",b.strPause).find("a").html(b.strPause),o.addClass(c.playing),n?p.play():p.Play(),p.Stop()),!1}),d.replaceWith(o)}),this}}(jQuery,window,document);