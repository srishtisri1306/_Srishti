!function(){"use strict";var i={939:function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.UidSecureSignalProvider=void 0,e.isDebugModeOn=function(i){const e=new URLSearchParams(window.location.search).get("uid2_ss_debug");return"TRUE"===e?.toLocaleUpperCase()||document.currentScript?.src.startsWith(i)},e.UidSecureSignalProvider=class{debug;isEuid;hasRegisteredSecureSignals;constructor(i=!1,e=!1){this.debug=i,this.isEuid=e,this.hasRegisteredSecureSignals=!1,(!this.isEuid&&"function"==typeof window.getUid2AdvertisingToken||this.isEuid&&"function"==typeof window.getEuidAdvertisingToken)&&(this.logging("register SecureSignalProvider"),this.registerSecureSignalProvider())}registerSecureSignalProvider=()=>{const i=this.retrieveAdvertisingTokenHandler();i?(window.googletag=window.googletag||{cmd:[]},window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[],this.hasRegisteredSecureSignals||(this.hasRegisteredSecureSignals=!0,window.googletag.secureSignalProviders.push({id:this.isEuid?"euid.eu":"uidapi.com",collectorFunction:async()=>{this.logging("collectorFunction invoked");const e=await this.getUidAdvertisingTokenWithRetry(i);return this.logging(`collectorFunction pushes: ${e}`),e}}))):console.warn("UidSecureSignal: Please implement `getUidAdvertisingToken`")};logging=i=>{this.debug&&console.log(`UidSecureSignal: ${i}`)};retrieveAdvertisingTokenHandler=()=>{if(this.isEuid){if("function"==typeof window.getEuidAdvertisingToken)return window.getEuidAdvertisingToken;if(window.__euid&&"getAdvertisingTokenAsync"in window.__euid)return window.__euid.getAdvertisingTokenAsync.bind(window.__euid)}else{if("function"==typeof window.getUid2AdvertisingToken)return window.getUid2AdvertisingToken;if(window.__uid2&&"getAdvertisingTokenAsync"in window.__uid2)return window.__uid2.getAdvertisingTokenAsync.bind(window.__uid2)}};getUidAdvertisingTokenWithRetry=(i,e=3)=>{let n=this;return new Promise((async(t,r)=>{let d=0;!async function o(s){if(d>=e)return n.logging(`getUidAdvertisingTokenWithRetry failed with error after retry: ${s}`),void r(s);d++;try{const e=await i();n.logging(`getUidAdvertisingTokenWithRetry resolved with: ${e}`),t(e)}catch(s){n.logging(`getUidAdvertisingTokenWithRetry failed with error: ${s}`),o(s)}}()}))};resetProviderRegistration=()=>{this.hasRegisteredSecureSignals=!1}}}},e={};function n(t){var r=e[t];if(void 0!==r)return r.exports;var d=e[t]={exports:{}};return i[t](d,d.exports,n),d.exports}!function(){const i=n(939);window.__uid2SecureSignalProvider=new i.UidSecureSignalProvider((0,i.isDebugModeOn)("https://cdn.integ.uidapi.com/")),window.__uid2=window.__uid2||{callbacks:[]},window.__uid2.callbacks?.push((i=>{"InitCompleted"!==i&&"SdkLoaded"!==i&&"IdentityUpdated"!==i||"getIdentity"in window.__uid2&&window.__uid2.getIdentity()&&("IdentityUpdated"===i&&window.__uid2SecureSignalProvider?.resetProviderRegistration(),window.__uid2SecureSignalProvider?.registerSecureSignalProvider())}))}()}();