<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    </head>
    <body>
        <script>
            (function() {
                const hexChars = '0123456789abcdef';
                const providers = [
                    {
                        "name": "xander",
                        "url": "https://secure.adnxs.com/getuid?https://sync.qntv.io?provider=xander&uid=$UID",
                        "type": 1
                    },
                    {
                        "name": "adaptmx",
                        "url": "https://prebid.a-mo.net/cchain/0?gdpr=[GDPR]&gdpr_consent=[GDPR_CONSENT]&us_privacy=[US_PRIVACY]&cb=https://sync.qntv.io?provider%3Dadaptmx%26uid%3D",
                        "type": 1
                    },
                    {
                        "name": "unruly",
                        "url": "https://sync.1rx.io/usersync2/rmphb?gdpr=[GDPR]&gdpr_consent=[GDPR_CONSENT]&us_privacy=[US_PRIVACY]&redir=https://sync.qntv.io?provider%3Dunruly%26uid%3D%5BRX_UUID%5D",
                        "type": 1
                    },
                    {
                        "name": "lijit",
                        "url": "https://ap.lijit.com/pixel?gdpr=$[GDPR]&gdpr_consent=[GDPR_CONSENT]&gpp=[GPP]&gpp_sid=[GPP_SID]&redir=https%3A%2F%2Fsync.qntv.io%3Fprovider%3Dlijit%26uid%3D%24UID",
                        "type": 1
                    }
                ]

                function getCookie(cname) {
                    let name = cname + "=";
                    let decodedCookie = decodeURIComponent(document.cookie);
                    let ca = decodedCookie.split(';');

                    for(let i = 0; i <ca.length; i++) {
                        let c = ca[i];

                        while (c.charAt(0) == ' ') {
                            c = c.substring(1);
                        }

                        if (c.indexOf(name) == 0) {
                            return c.substring(name.length, c.length);
                        }
                    }
                    
                    return "";
                }

                function newUID() {
                    let result = '';
                    for (let i = 0; i < 32; i++) {
                        result += hexChars.charAt(Math.floor(Math.random() * 16));
                    }

                    return result;
                }

                function getXUID() {
                    let xuid = getCookie("xuid");
                    if (xuid === "") {
                        xuid = newUID();
                        document.cookie = `xuid=${xuid}; path=/`;
                    }

                    return xuid;
                }

                const userID = getXUID();
                
                let params = new URLSearchParams(document.location.search);

                let gdpr = params.get("gdpr") || "";
                let gdprConsent = params.get("gdpr_consent") || "";
                let usPrivacy = params.get("us_privacy") || ""; 
                let gpp = params.get("gpp") || ""; 
                let gppSID = params.get("gpp_sid") || ""; 
                let redirect = params.get("redi") || ""; 

                for (let i = 0; i < providers.length; i++) {
                    let url = providers[i].url;

                    url = url.replace("[GDPR]", gdpr);
                    url = url.replace("[GDPR_CONSENT]", gdprConsent);
                    url = url.replace("[US_PRIVACY]", usPrivacy);
                    url = url.replace("[GPP]", gpp);
                    url = url.replace("[GPP_SSID]", gppSID);

                    (new Image).src = url;
                }

                if (redirect !== "") {
                    setTimeout(function () {
                        redirect = redirect.replace("[GDPR]", gdpr);
                        redirect = redirect.replace("[GDPR_CONSENT]", gdprConsent);
                        redirect = redirect.replace("[US_PRIVACY]", usPrivacy);
                        redirect = redirect.replace("[GPP]", gpp);
                        redirect = redirect.replace("[GPP_SSID]", gppSID);
                        redirect = redirect.replace("[XUID]", userID);
        
                        window.location = redirect;
                    }, 1000)
                }
            })();
        </script>
    </body>
</html>